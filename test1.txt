Executive summary of HPE 3PAR The past few years has seen an unprecedented amount of successful attacks targeting proprietary data. In today’s day and age, minimizing these  attacks are paramount to a company survival. Unfortunately, one of the best examples of identifying and minimizing an attack was a large  department store security breach in December of 2013. The result of that attack left an estimated 70 million customer accounts vulnerable,  millions of dollars lost as banks had to cover funds which had been stolen, high ranking employees lost their jobs and a tarnished reputation of a  large retailer almost scuttled a reputable brand name. The intrusion breached all three access points within the system architecture, hardware was the Point of Sale system where consumer credit  cards were swiped. The software was the application which collected the stolen data, as the cards were swiped and the network as the stolen  data was communicated via ICMP traffic from the POS systems to the corporate LAN and subsequently to drop points all over the world. This one example exemplifies the vulnerability by which consumers face every day. Each of the above manufacturers must stay vigilant in the  engineering of safeguards against such attacks as often these attacks yield to the compromise of valuable data. Guarding against these unscrupulous attempts to gain access to valuable data often uncovers vulnerabilities within hardware, network, and  software (software to include Operating systems and applications). Once these vulnerabilities are uncovered it becomes the responsibility of all  parties to help mitigate the vulnerability and block any type data breach. To do this many companies have created their own internal security  teams whose sole purpose is to maintain high confidence in data security while minimizing any new threats which have been uncovered in the  industry. This is a difficult task as there are individuals who decisively are trying to breach your data every hour of the day. Hewlett Packard Enterprise and HPE 3PAR is committed to working and partnering with both our respective customers and the security  community to help prevent and mitigate any and all the threats which occur daily across the world. Protecting your data is a battle and not a task,  someone once pointed out the bad guys far outweigh the good guys in this battle. With every new threat and every new vulnerability HPE  continues to evaluate the risk and formulate the approach to block the attack while continuing to engineer better and safer products to help our  customers protect their data. This paper is targeted to inform about current strategies and offerings around the world’s leading all flash storage provider, the HPE 3PAR  StoreServ array, along with the new offerings included in HPE 3PAR OS 3.3.1. HPE 3PAR Secure StoreServ architecture  The HPE 3PAR Secure StoreServ architecture is a large eco system comprised of many different components as illustrated in Figure 1. Figure 1. The HPE 3PAR consists of hardware with controllers and disks, virtualization with common provisioning groups (CPG) and virtual volumes,  highly redundant in all hardware along with remote copy and federation and with management using HPE 3PAR StoreServ Management  Console (SSMC). The combination of all these components provide customers with a highly available world class storage system designed to  deliver optimum performance at the lowest cost possible. HPE 3PAR ensures secure datacenter environment for customers. HPE 3PAR OS Structure  The HPE 3PAR OS architecture is structured around Debian Linux® kernel. The kernel itself is isolated from users as the command structure  uses a sophisticated structure command line (CLI) architecture to manage the HPE 3PAR StoreServ array. Each command in the cli is a captive  command which maintains barrier from the internal structure of Linux. Since the OS is built on a solid operating system such as Linux, the 3PAR  OS uses the up to date features of the Linux kernel. Communication  Current 3PAR OS structure communicates through TLS 1.2 as its standard. TLS 1.0 and 1.1 have been turned off as these variations were  susceptible to a compromised data structure. TLS clients which are configured for older TLS versions may no longer connect to the 3PAR array  after the array is updated to 3.3.1. Best practice  Update or reconfigure, affected TLS clients to use TLS 1.2. Common Vulnerability and Exposure (CVE)—Ciphers  In the recent months there have been several vulnerabilities which have pointed to areas of concern in ciphers. A ciphers definition is an  algorithm for performing encryption—decryption of data, it is a series of defined steps by which data is either encrypted from standard character  to encrypted data. There are a number of different ciphers used in the industry to mask plaintext data. AES and DES are samples of such ciphers. More information can be gained on ciphers by exploring the web and searching for computer ciphers. There are a number of different ciphers which can be used to secure information, HPE 3PAR StoreServ supports the following ciphers in the  code, AES128-SHA, AES256-SHA, DHE-RSA-AES128-SHA, DHE-RSA-AES256-SHA. As part of an ongoing investigation into security and  scanning for known vulnerabilities, HPE 3PAR StoreServ addresses any vulnerabilities that may have an impact. Many vulnerabilities that may  have had an impact were addressed with the HPE 3PAR OS 3.3.1. HPE 3PAR StoreServ Port Assignments—Node (Block)  Ports on any storage array can be a weak point unless they are closely monitored and aligned with the hardening of the storage array itself. On  the HPE 3PAR StoreServ array the following ports are considered harden ports and allow traffic. All other ports on the array should be disabled. Table 1 contains a list of currently supported ports on the HPE 3PAR StoreServ array. Reference for port settings are contained in the “HPE  3PAR StoreServ 3.2.x Security Technical Implementation Guide Version 1, Release 1” dated 25th July 2016. Table 1. Best practice   Use the following script from a Linux host to identify unneeded ports which may be open. If any other ports are opened other than the above ports, the user should use the following command. Confirm the operation by entering “y” and pressing “Enter”. Note: Using the command to disable ports specifies the network configuration functionality where if the option is specified as “yes” will disable  the non-encrypted ports, if option “no” is specified, it will enable the non-encrypted ports. Disabling non-encrypted ports will also prevent the  service processor from monitoring events, which will prevent the generation of email notifications about system issues. HPE 3PAR StoreServ Port Assignments—Node (File)  The HPE 3PAR File Persona Software suite provides a converged storage solution for file services and object access along with block services on  HPE 3PAR StoreServ systems. The HPE 3PAR File Persona Software is a feature of the HPE 3PAR OS which enables a rich set of file protocols  and core file data services on the following converged HPE 3PAR StoreServ. In Table 2 is a list of port numbers and protocols needed for the HPE 3PAR File Persona feature to function. Table 2. StoreServ Management Console (SSMC) Ports  SSMC requires specific ports for communication. Hewlett Packard Enterprise also recommends configuring an LDAP server as an authentication  method for connecting to a 3PAR StoreServ array. Inbound and outbound port settings  To allow inbound communication from a browser, SSMC uses inbound port 8443 (default). You can change this port to another secured port  setting without reinstalling SSMC. To communicate with an array, SSMC uses outbound port 5783. You cannot change this port. SSMC also uses  port 443 to communicate with infosight.hpe.com and retrieves version information about SSMC and the HPE 3PAR operating system. HPE 3PAR Service Processor Ports  The HPE 3PAR Service Processor is an important component of the HPE 3PAR StoreServ array. The HPE 3PAR Service Processor serves as a  communications interface within the customer’s IP network environment for all service related communications to and from the HPE 3PAR  StoreServ array. The HPE 3PAR Service Processor deploys the Service Processor Onsite Customer Care (SPOCC) software which is a suite of service tool  applications which provide a web-based user interface for support of the HPE 3PAR Service Processor and the HPE 3PAR StoreServ array. Remote login is a form of SSH and HTTPS (SPOCC), this capability can be controlled or disabled. In the case where it is disabled, access is  available via a serial cable. Additional SP hardening is available through an iptables like packet filtering feature. Like all enterprise class shared  storage products, SP must be operated in an environment where the network security is commensurate with the value of the stored assets. The service processor communicates with 3PAR Central via secure transmissions using either Axeda or RDA Domino (covered in separate  section) as illustrated in Figure 2. Figure 2.   Transport Agents  The transport agents work to transmit data back to HPE 3PAR central. The transport agents whether it be Axeda or HPE RDA Domino use  Hypertext Transfer Protocol Service (HTTPS) as the communications protocol for secure communication transfer of data over a computer  network. HTTPS utilizes the SSL/TLS protocol security standards to securely transfer data within a computer network. The security therefore in  HTTPS is that of the TLS standard which uses secret keys to encrypt the data flow between the client and the server. The data transfer between the HPE 3PAR Service Processor and HPE 3PAR Central is accomplished in a secure fashion and employs the  following standards. HPE RDA Domino  HPE RDA Domino is designed to be a “Meet in the Middle” connectivity solution. RDA Domino is divided into the following three main  components. RDA Domino Customer Access Server—the custom access server (CAS) is part of the service processor software which is deployed as either a  physical or a virtual unit. The CAS server client connects to the Midway server URL embedded as part of the RDA client code and presents a  Class 2 Private CA certificate for validation by the Midway server. The RDA client will also provide the Midway server with metadata as to the  secure processor for proper identification. By default, RDA domino is not selected as the transport agent and must be configured either upon the Moment of Birth (MOB) on the service  processor or by logging in through the user “hpesupport” and modifying the transport agent identified under the support heading. An illustration  of the transport agent setting on the service processor is shown in Figure 3. Figure 3. RDA Domino Midway Servers—the Midway servers are located in the HPE DMZ at HPE 3PAR Central. The servers serve as the master control  for all connections. The servers are also responsible for issuing, verifying, and revoking HPE RDA certificates. The Midway servers maintain a list  of valid HPE RDA certificates. Midway servers manage connections by issuing one time digital keys that are used to uniquely identify connection  pipes. The Midway servers function as a digital switchboard, managing communication paths between the RDA Domino Access Server and the  RDA Domino Support clients and other HPE resources. HPE Axeda  The Axeda platform is a secure and scalable foundation to build and deploy enterprise-grade applications. An Axeda Agent is essentially an  application that is capable of representing the devices it is connected to, publishing the data from those devices to the Axeda platform, and  allowing the Axeda platform to have some control of the devices. The software itself like the RDA software is incorporated into the Service  Processor software. Axeda uses a Machine 2 Machine (M2M) technology in its deployment of the software. Once data is collected by the Service Processor, a process  is initiated to call home with the collected data. The data is transmitted via secure transmission to HPE 3PAR Central whereby the data which  has been collected is processed. Figure 4. Transferred Data Contents  It is important to note, that while different telemetry or event data is transferred back to HPE 3PAR Central to be processed, no customer data is  ever transmitted. Customer data is always protected from transport and the only information which is transmitted is the serial number of the  registered array. HPE 3PAR cannot access customer data remotely, any access to this data must be done via customer assisted transactions. Data sharing is typically done using a WebEx, HPE Virtual Room or some other data sharing method where the customer is logged in and  sharing information with HPE 3PAR support personnel. HPE 3PAR Policy Server  HPE 3PAR Policy Server is designed to ensure only authorized personnel access to, and use of, assets that are running Agent Gateway or Policy  Agents. Policy Server is a server-based application that resides on a customer’s network. Through the Policy Servers user interface, customers  can set and control all permissions for outside access to the HPE 3PAR StoreServ arrays attached to the unit. Users can use the browser-based user interface of Policy Server to configure policies and monitor requests for operations. Through the Policies  component of the application, authenticated users can manage policies and accept or deny requests to perform operations on assets. The Audit  component displays a history of actions by Policy Server users and communications with assets managed by Policy Server. Through the Users  component, administrators of the Policy Server can assign privileges to profiles, profiles to roles, and roles to user accounts to control access to  the components of the Policy Server application. HSQL Database provides a standalone, open source, Java-based relational database to store and manage the Policy Server configurations. The HSQL database can be installed and set up for use with Policy Server through the installation program for Policy Server. Apache Tomcat  provides the web application and file realm component for Policy Server. OpenDS directory server provides an “internal” directory server for  managing access to the Policy Server application. Tomcat is installed with Policy Server. You can install the internal OpenDS directory server on  the same machine as Policy Server. Alternatively, you can configure an “external” directory server to manage access to the Policy Server  application. Policy Server supports the Sun ONE LDAP (Java System) directory server, Microsoft® Active Directory Server, and OpenDS LDAP  directory servers for “external” use. For secure communications with your assets, HPE 3PAR Policy Server supports the Secure Socket Layer/Transport Layer Security (SSL/TLS)  protocols. Before installation, you need to create the hostname.jks file for the machine where Policy Server will run and make sure that either port  443 or port 8443 is available for Policy Server. During installation, you configure Policy Server to use SSL. You can configure the Agents running  on your assets to use SSL when communicating with Policy Server through Agent Builder or Agent Deployment Utility. As defined by Wikipedia, a cipher is an algorithm for performing encryption or decryption—a series of well-defined steps that  can be followed as a procedure. The operation of a cipher usually depends on a piece of auxiliary information, called a key (or, in traditional NSA  parlance, a crypto variable). The encrypting procedure is varied depending on the key, which changes the detailed operation of the algorithm. A  key must be selected before using a cipher to encrypt a message. Without knowledge of the key, it should be extremely difficult, if not impossible,  to decrypt the resulting ciphertext into readable plaintext. There are a number of different cipher suites available and differ depending on which the TLS backend was built on. HPE 3PAR continues to  evaluate the different ciphers suites and will choose the suite best suited for the environment. CLI Cipher  Changes were made to the cipher used to secure the connection between the HPE 3PAR StoreServ array and the CLI clients. The Transport  Layer Security (TLS) handshake protocol now only supports TLS v1.2. TLS v1.0 & 1.1 were dropped from the supported protocols. Handshake protocol creates the authentication methodology by which the client responds to a request. During the protocol exchange a  certificate is exchanged dependent upon the cipher which is selected during the handshake process. DHE is short for Diffie-Hellman ephemeral security modes. In short it is the method for exchanging cryptographic keys over a  public channel. In 3PAR OS 3.3.1, the key size was increased from 512 to 2048. This increase in size supports a better security structure. Once the initial connection is configured using DHE, the RSA cryptosystem creates and then publishes a public key based on two large prime  numbers, along with an auxiliary value. The RSA algorithm involves four steps: key generation, key distribution, encryption, and decryption. For more information about the above ciphers and methodologies search the internet, there are many excellent articles with in-depth coverage  of all secure transmission concepts. SSH Cipher  In OS 3.3.1 there is a change to ciphers SSH uses to establish secure connection between the array and clients. The changes to the cipher is   as follows. •  MAC (message authentication code) Algorithms. HPE 3PAR Security Standards  PCI-DSS  The Payment Card Industry Data Security Standard (PCI-DSS) is a proprietary information security standard for organizations that handle  branded credit cards from the major card schemes. HPE 3PAR recognizes the importance of this standard and is currently working on  ensuring products are secure by design to assist customer in meeting the PCI-DSS compliance requirement, since it’s not the storage that can be  PCI-DSS compliant, but it’s the overall storage data center that needs to be PCI compliant. Although the PCI-DSS must be implemented by all entities that process, store, or transmit cardholder data, formal validation of PCI-DSS  compliance is not mandatory for all entities. The requirements for this standard are very stringent on data transmission through wireless access  points and the access to those points. The document further states that the vendors are responsible for running vulnerability tests within their  infrastructure and conduct penetration tests both internally and externally. While the data transmission is outside the scope of the HPE 3PAR StoreServ, the data storage is required to be encrypted. HPE 3PAR StoreServ  does support encrypted data at rest through the use of FIPS compliant disks. The HPE 3PAR OS is regularly scanned for vulnerabilities and  penetration tests are conducted on all versions of the HPE 3PAR OS on a timely basis. Pen Testing  Penetration testing (a.k.a. Pen testing) is conducting tests on a computer system, storage array, network of web application for sole purpose of  finding vulnerabilities that a hacker could exploit. The main objective of penetration testing is to determine security weaknesses of the tested  system. The process of penetration testing may be simplified as two parts:  1. Discover vulnerabilities—combinations of legal operations that let the tester execute an illegal operation  2. Once the attacker has exploited one vulnerability they may gain access to other machines so the process repeats i.e., look for new vulnerabilities  and attempt to exploit them. The HPE 3PAR OS is built around the frame of Debian Linux kernel. The kernel is not a full-blown version of the OS but rather uses the shell of  the OS structure. Regardless of the structure of the kernel, if the kernel becomes susceptible for hacks from outside sources, HPE 3PAR will work  closely with Debian to help mitigate any external attacks. To help identify exposures the software may be exposed to, HPE 3PAR continually  performs Pen testing on the HPE 3PAR OS. Figure 5 illustrates pen testing and pushing attacks to access vulnerabilities. Figure 5. HPE 3PAR OS. Pen testing methods include the following, HPE may do some or all of the testing dependent on the HPE 3PAR OS lifecycle. •  Targeted testing—testing done by SQA and HPE security team on HPE 3PAR OS, typically looking for a defined or newly defined vulnerability  •  External testing—pen tests targets the HPE 3PAR StoreServ array through company servers and external applications. Strong Password Protection Schema  Starting with the HPE 3PAR OS 3.2.2 MU2 and above HPE 3PAR will use either a time-based password or encryption based password system  for all privileged accounts. Previous privileged accounts will now require the user to call HPE 3PAR support and request one of the two types of  generated passwords. The two types of password generation are as follows. Time-based passwords  Time-based passwords are unique to each service user account and HPE 3PAR StoreServ. They change each hour and can only be generated in  the HPE support center to authorized HPE employees and contractors. While operating in time-based mode, passwords cannot be changed  since they change automatically each hour. On choosing time-based passwords, you do not need to change your HPE support processes. Figure 6 illustrates the generation of a time-based password on the left and an example of the password generated on the right side. Figure 6. Encrypted ciphertext passwords  Encrypted ciphertext passwords are randomly created on the HPE 3PAR StoreServ for each service user account. You can change these  passwords any time; however, the passwords are not known to your or to HPE. Recovery is only possible by exporting the ciphertext for  transmission to HPE, where an authorized support center user can decrypt the ciphertext to provide the password to on-site HPE service  personnel or contractors. If you choose encrypted ciphertext passwords, you need to export the ciphertext and provide it to the HPE personnel  working with you. The ciphertext is pasted into a tool at HPE that can unwrap and decrypt the ciphertext to recover the password. After the  support activity is complete, you can change the password so that the recovered password is no longer valid. Exporting ciphertext  In the encrypted ciphertext mode, use the controlrecoveryauth ciphertext <user> command to export the ciphertext for a service account. This  command displays the ciphertext associated with the specified service user account. You can copy and paste that ciphertext into an email to the  HPE support center or to the HPE support engineer who is working with you. The ciphertext is protected from exposure if you email it. The  random credential contained in the ciphertext is first encrypted and is then wrapped using a public key. This makes the ciphertext secure for  transmission, because only the corresponding private key at HPE can unwrap the encrypted credential. Changing the ciphertext password  To change passwords in encrypted ciphertext mode, use the controlrecoveryauth rollcred <user> command. This causes a new random  password to be generated and assigned to the specified service user account. The two accounts that are affected are root and console. On the  HPE 3PAR StoreServ, these user accounts are not used for most maintenance actions. Setting or changing the Password Mode  To query or change the current setting of the strong service account password system, use the 3PAR CLI command controlrecoveryauth (to  change the mode from time-based to encrypted ciphertext, for example). In version 5.0 the HPE 3PAR Service Processor adopted the use of strong passwords. Two factor Authentication  Single form of an authentication is starting to fade away as secure locations look to new ways to thwart unwanted cyber entry into data centers  and data farms. Recently with HPE 3PAR OS 3.3.1 the Lightweight Directory Access Protocol was rewritten on the HPE 3PAR StoreServ arrays  to comply with the latest standards of the protocol. With these changes included in HPE 3PAR OS 3.3.1, this allowed engineering to support using a two factor authentication. Figure 7 simply  illustrates the two-step authentication process. Step 1 illustrates the user will initially authenticate using  Active Directory/LDAP to login into the domain, although the  user has successfully logged into the domain, they have no  access to the HPE 3PAR StoreServ array since additional  security remediation must occur. Step 2 identifies the user then must use a secure  methodology to enable login into the HPE 3PAR StoreServ. Login is accomplished via HPE 3PAR SSMC and is not  supported using the CLI. Currently the secure methodology  would use a Common Access Card (CAC), Virtual Smart Card  or some other form of a secure methodology to secure a  connection through the SSMC to the array. Although only  CAC and Virtual Smart Card have been certified for use, other  methods of secure communication could be used. Figure 7.   Security Logging  Breaches in security are very disturbing and undermine the environment by which the breach occurred. While a breach in and of itself can be  devastating, it would be worse if we could not forensically identify the entry source or the type of breach which occurred. HPE 3PAR understands  the need to continually work towards thwarting breaches, it also understands we need to control and provide information which can either  identify entry point or help with the logging of attempted security violations. With this in mind the following tools are available to either minimize  unauthorized security entries or capture logging data to help identify areas of concern. Policy Server  The HPE 3PAR Policy Server software is a server-based software application that allows customers to define and implement remote service access  policies. This software application resides on a customer’s network and sets and controls all Secure Service permissions. With the HPE 3PAR Policy  Server, customers can allow or deny inbound communications or remote service connections to and from HPE 3PAR StoreServ. The HPE 3PAR  Policy Server also serves as a centralized collection point for collecting and storing audit log files of all diagnostic transfers and authorized remote  service connections to and from a HPE 3PAR StoreServ managed by the policy server. Looking at Figure 8, we will use the same layout of the   data center and call home feature. The difference in this illustration is the addition of the Policy Manager which is installed on a separate server. Figure 8. The HPE 3PAR Policy Server supports SSL/TLS protocols and uses either port 443 or 8443 with the application. During the installation of the  policy server it will be configured with an SSL protocol. The connection of HPE 3PAR Service Processor to the policy server is defined at the  MOB on the SP. If a user were to add the policy server after the SP MOB, the SP can be changed to reflect the addition of the policy server. HPE 3PAR StoreServ Management Console and HPE 3PAR Service Processor Audit logging  Both the HPE 3PAR Service Processor and the StoreServ Management Console use a common interface. The applications are independent of  each other but the interface is common between the two. There are a number of different audit logs which are resident on each of the consoles,  the location and the contents of those files are as follows. HPE 3PAR StoreServ Management Console logs  Location of the log files for the SSMC reside on the server where the tool is installed. To reference the log files user should log into the server and  navigate to the following area, “C:\Program Files\Hewlett Packard Enterprise\SSMC\ssmcbase\data\logs”. Once the user navigates to this area  the files listed below can be examined. The user can get information within SSMC which is useful in examining recent user task which were completed on the array. Figure 9. From this example, we have identified that the user 3paradm modified LDAP configuration on the array on June 30th at 08:00. There are other  entries in the log file which point to other transactions which were carried out on the array. Using this example there were a number of entries  which affected the array such as encryption enablement. The importance here is the user and action they enacted are tracked, it would be easy  to then correlate related issues which occurred on the array to an individual. This should highlight the importance of adding users and assigning proper credentials to the user. Coverage of users and assigning  responsibilities is discussed in a separate section of the paper. Figure 10. As part of the communication between the HPE 3PAR StoreServ array and the HPE 3PAR Service Processor, a certificate is generated and must  be accepted prior to any communications between the two devices. Communications to HPE 3PAR Central as outlined earlier in the paper can be via legacy Axeda or the new RDA technology. As stated earlier in the paper the base operating system on the HPE 3PAR Service Processor is Debian Linux, no version is included here as with  all OS’s modifications occur quite frequently to keep up with the need to offer better security. HPE will continually provide the most recent  version of the Linux shell which will include all updates at the time the latest HPE Service Processor is generated. For this reason, users should  maintain all updates posted to the HPE Service Processor including major release and maintenance updates (MU). Limited command console  One of the major changes to SP 5.0 is the elimination of featured access accounts on the SP. A featured account was an account by which the  user when logged in, had the ability to modify the parameters within the SP. With SP5.0 all user accounts are captive and have limited options available. The screen to the right displays one of the two authorized accounts  (admin and hpepartner) and illustrates the limited account options available to the user. Audit logging (SP)  Audit information which pertains to the HPE 3PAR SP is located under Files section. To gain access to the audit log the user (either admin or  hpepartner) navigates through the drop-down menu located under 3PAR Service Console header on the top left side. Under the header is the  General category by which the Files section is displayed. Once the user has navigated to the Files section it is easy to locate the audit log. The audit log is plain ascii text file and can be manipulated with  a number of different process. In the following excerpt from the audit log, there is an entry which identifies an unauthorized login attempt. The illegal attempt to login was created by me, and highlighted in the message is the ip address I am assigned currently on my laptop as  illustrated below using the ipconfig command from windows. I attempted to login into the admin account with an unauthorized password at the time and date also shown in the capture. Syslog  The HPE 3PAR StoreServ utilizes the function of syslog to maintain data used for analysis, recording array functions and maintaining a security  log of all transactions which occur on the array. Figure 11 illustrates a sample of the data which streams from the array. Output of the data is  often considered very chatty and verbose; most users will need some type of a logging tool if data is to be maintained or monitored. Figure 11. The syslog function on the array is not enabled by default, the user must enable to output through enabling parameters with the setsys  command. Remote Syslog Server  The remotes syslog server enables the process of capturing security events from an HPE 3PAR StoreServ to a remote security syslog server. The configurations will use mutually authenticated TLS configuration. The PKI uses x509 (RSA2048) certificates whose trust originates with a  customer-provided certificate authority. For simplicity, the base server host operating system used in this example is RHEL6, using rsyslog and  gnu-tls. Although we chose to use gnu-tls for the example, there are a wider variety of commercial and open source logging solutions which can  be used. Pre-requisites for installation  1. The HPE 3PAR StoreServ array must have a hostname that is resolvable on the network. 2. The RHEL6 security syslog server must have a hostname that is resolvable on the customer’s network. 3. The RHEL6 server must be running rsyslog and gnu-tls must also be installed. 4. is configurable. 5. Networks between the RHEL6 server and the 3PAR StoreServ array must have firewalls open for port 6514, TCP. 6. System clocks must be synchronized to a time server. Mismatched system clocks may result in errors during certificate installation. 7. The 3PAR must be running 3PAR OS version 3.3.1, or later. RemoteSyslogHost—the remote syslog host captures data output from the array. Remote syslog utilizes UDP port 514 as the transport  mechanism to send log information. RemoteSyslogSecurityHost—is different from RemoteSyslogHost as this setting is used to report strictly on security information on the array. The security information is limited to array access and the monitoring of access points. Monitoring of these dynamics requires the user to change  the transport mechanism from UDP to TLS. The use of TLS will require the user to import a CA from the system used in capturing of secure data. The following tables outline the information gathering for using a RemoteSyslogHost with RHEL6. Table 3. 1. 2. 3. 4. 5. 6. 7. Secure data architecture is paramount to all successful IT organizations. Banks, hospitals, government agencies, corporations, and  any IT organization are susceptible to unauthorized access to private data. A remote syslog environment cannot guard against unauthorized  entry to a data structure but it is a tool which is part of the overall strategy to securing an environment. HPE 3PAR continues to work to change the standards for a secure storage architecture by monitoring existing and potential threats, developing  new secure measures by which users can manage their environment and publishing standards applicable to today’s rapidly changing security. The remote syslog server is another tool HPE 3PAR provides to help users secure their environment. Data Encryption  Data encryption on the HPE 3PAR StoreServ array is also referred to as Data at Rest. Encryption of data only occurs on disks which are designed  with the AES encryption chip internally. Data at Rest is a reference for the data as it resides on the disk drive and not while the data is in flight. HPE 3PAR does not encrypt data while in flight. Enablement of encryption on the array can only occur when all drives within the array are FIPS 140-2 enabled. Federal Information Processing  Standard (FIPS) publication 140-2 is a U.S. government security standard used to approve cryptographic modules. Enabling encryption on the  array protects data on the drive if the drive is maliciously removed from the array. Protection of the drives is done through a key mechanism  either enabled at the array level or externally from an authorized external key manager. Drives are secured through the exchange of keys  controlled by a key manager, unauthorized drive removal locks drive from external access. Local Key Management  The Local Key Management (LKM) enables key management at the HPE 3PAR StoreServ array. All key management is local to the HPE 3PAR  StoreServ array and is controlled by an internal process of the HPE 3PAR OS. The file in which the encrypted key is kept is identified as a  keystore, the keystore is kept locally within the array. A backup of the keystore is created when enabling encryption on the HPE 3PAR StoreServ  array this file should be securely stored away from the array. The internal HPE 3PAR OS process which interfaces with the encrypted drives is  darsvr. Figure 12 illustrates the connection of darsvr to the encrypted drives. Figure 12. External Secure Key Manager  As part of FIPS 140-2 compliance, starting from HPE 3PAR OS 3.2.1, HPE 3PAR will supports an External Key Manager (EKM). EKM provides a  complete security solution for unifying and automating an organization’s encryption controls by securely creating, protecting, serving, controlling,  and auditing the encryption keys on a separate server which is only attached to the HPE 3PAR StoreServ array through the internet. Starting with, HPE 3PAR OS 3.2.1, HPE 3PAR supports the HPE Enterprise Secure Key Manager v4.0 or SafeNet KeySecure k450 and k150. Either solution supports the HPE 3PAR StoreServ Storage arrays which are enabled for encryption. Both solutions meet the NIST Key  Management standards and are validated for FIPS 140-2 level certification. As there are many other EKM’s in the industry, HPE has only  qualified the above EKM’s to function with the HPE 3PAR StoreServ Storage array. Similar to the LKM the EKM will use a single locking key for all drives in the array. The locking key will be managed by the EKM and is not key  manager sensitive, meaning whichever HPE key manager the user deploys, EKM will use the same methodology to provide a secure locking key. In order to protect the key, a new process “fipsvr” is deployed and will be the only process which has access to the locking key. The key will only  be in resident within the HPE 3PAR OS memory while the array is functioning, otherwise the key is stored in the EKM. The following two sections will highlight the two EKM’s which are supported with HPE 3PAR OS 3.2.1 and after, any further investigation into  each of the products is left to the user. GDPR  The General Data Protection Regulation (GDPR) is a new European privacy law which comes into force on 25th May 2018 and significantly  increases the risks for companies that fail to use and protect personal data in compliance with the law. The GDPR introduces significant monetary  penalties of up to a maximum of 20 million Euros or 4% of the annual worldwide turnover of a corporate group. The GDPR requires organizations to implement appropriate technical and organizational measures to secure data and introduces new breach  notification requirements. These categories are all fundamental security aspects by which HPE 3PAR StoreServ continues to enhance and harden overall product  architecture. HPE 3PAR has already and will continue to adopt security by design into its operating system, appliances and tools which support  the array. Figure 13 is an illustration of how HPE 3PAR secure data center architecture design also assists customers with their GDPR  compliance security requirements. Figure 13. GDPR compliance requires both technology and process changes which HPE is committed to help customers with. Customers own the process  of GDPR compliance in their datacenter environment and it is their responsibility to assess what data it possesses, the value that data brings to  the organization and how to comply with GDPR. HPE 3PAR StoreServ helps its customers to be GDPR compliant by its inherent design and  architecture with security built into the product. © Copyright 2011, 2014–2015, 2018 Hewlett Packard Enterprise Development LP. The information contained herein is subject to  change without notice. The only warranties for Hewlett Packard Enterprise products and services are set forth in the express warranty  statements accompanying such products and services. Nothing herein should be construed as constituting an additional warranty. Hewlett Packard Enterprise shall not be liable for technical or editorial errors or omissions contained herein. Java is a registered trademark of Oracle and/or its affiliates. Linux is the registered trademark of Linus Torvalds in the U.S. and other  countries. Microsoft is either a registered trademark or trademark of Microsoft Corporation in the United States and/or other countries. All other third-party trademark(s) is/are property of their respective owner(s). 4AA3-7592ENW, May 2018, Rev. 
